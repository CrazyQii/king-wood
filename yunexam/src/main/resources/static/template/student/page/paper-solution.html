<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>答题试卷</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="/lib/font-awesome-4.7.0/css/font-awesome.min.css" media="all">
    <link rel="icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/layui/css/layui.css">
</head>
<style>
    body {
        background-color: #EEEEEE;
    }
    .layui-layout-body {
        overflow-y: scroll;
    }
    .layui-header {
        padding-top: 20px;
        height: 80px;
        background-color: #DDE8F4;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    .number {
        display: inline-block;
        width: 30px;
        height: 30px;
        margin: 0 10px;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        border-radius: 50%;
        background-color: #838af2;
        line-height: 30px;
        text-align: center;
        font-weight: 700;
    }
</style>
<body class="layui-layout-body">
<div class="layui-header layui-row">
    <div class="layui-col-md1 layui-col-lg-offset1">
        <h1>考试名称</h1>
    </div>
    <div class="layui-col-md7 layui-col-lg-offset1">
        <div class="layui-row">
            <h3>分数： <strong>100分</strong></h3>
        </div>
    </div>
</div>

<!--  模板引擎视图  -->
    <div id="view" class="layui-container"></div>


<!--  编写模板  -->
<script type="text/html" id="topicTpl">
    {{#  layui.each(d, function(index, item) {  }}
    <div class="layui-card" style="margin-top: 15px;">
        <div class="layui-card-header layui-row">
            <div class="layui-col-md12">
                <span class="number">{{ index + 1 }}</span>
                {{ item.question }} 10分 ( 难度：{{ item.degree }} )
            </div>
        </div>
        <div class="layui-card-body" style="padding-left: 3%;">
            <ul class="layui-input-inline">
                <li>
                    <label><input type="radio" name="topic{{ item.qbid }}" class="layui-form-radio" disabled>
                        A. {{ item.a }}</label>
                </li>
                <li>
                    <label><input type="radio" name="topic{{ item.qbid }}" class="layui-form-radio" disabled>
                        B. {{ item.b }}</label>
                </li>
                <li>

                    <label><input type="radio" name="topic{{ item.qbid }}" class="layui-form-radio" disabled>
                        C. {{ item.c }}</label>
                </li>
                <li>
                    <label><input type="radio" name="topic{{ item.qbid }}" class="layui-form-radio" disabled>
                        D. {{ item.d }}</label>
                </li>
                <li>
                    <label>答案：{{ item.answer }}</label>
                </li>
            </ul>
        </div>
    </div>
    {{#  }); }}

    {{#  if (d.length === 0) {  }}
    <div class="layui-col-md12" style="margin: 20px auto; text-align: center;"><h1>空白试卷</h1></div>
    {{#  }; }}

</script>


<script src="/layui/layui.js"></script>
<script>
    layui.use(['element', 'laytpl', 'util', 'laydate', 'jquery', 'layer'], function () {
        var element = layui.element
            ,laytpl = layui.laytpl
            ,laydate = layui.laydate
            ,$ = layui.jquery
            ,layer = layui.layer;

        //获取参数
        function GetQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if(r != null) return decodeURI(r[2]);
            return null;
        }
        var eiid=GetQueryString("eiid");//调用

        // 渲染模板
        $.ajax({
            url: '/template/student/paper.json',
            method: 'get',
            data: {eiid: eiid},
            success: function (data) {
                console.log(data)
                // 模板渲染
                var getTpl = topicTpl.innerHTML
                    , view = document.getElementById('view');
                laytpl(getTpl).render(data, function (html) {
                    view.innerHTML = html;
                })
            },
            error: function (error) {
                console.log(error)
                layer.msg('数据接口有误!',{icon: 5, time: 2000})
            }
        })
    })
</script>
</body>
</html>